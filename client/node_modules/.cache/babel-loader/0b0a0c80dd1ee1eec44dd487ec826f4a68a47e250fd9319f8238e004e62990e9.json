{"ast":null,"code":"import _regeneratorRuntime from\"/home/akhil/Desktop/ecoverse/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/akhil/Desktop/ecoverse/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/akhil/Desktop/ecoverse/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Layout from\"../components/Layout/Layout\";import toast from\"react-hot-toast\";import axios from\"axios\";import{NavLink,Navigate}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OngoingEvents=function OngoingEvents(){var navigate=useNavigate();var _useState=useState([{title:\"\",description:\"\",place:\"\",date:\"\",organiser:null}]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];useEffect(function(){getAllEvents();},[]);var getAllEvents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8080/api/v1/event/get-events\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;if(data!==null&&data!==void 0&&data.success){toast.success(\"Events were fetched\");setEvents(data===null||data===void 0?void 0:data.events);}else{toast.error(data===null||data===void 0?void 0:data.message);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);toast.error(\"Something went wrong\");case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getAllEvents(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"oe\",children:\"OngoingEvents\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-start\",children:events.map(function(ev){var cd=new Date().getTime();var cd1=new Date(ev.date);if(cd<=cd1.getTime()){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 my-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{width:\"18rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:ev.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:ev.description}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary ms-2\",id:\"submit\",onClick:function onClick(){return navigate(\"/event-details/\".concat(ev.title,\"/\").concat(ev._id));},children:\"SEE DETAILS\"})]})})},ev._id);}})})})]});};export default OngoingEvents;","map":{"version":3,"names":["React","useEffect","useState","Layout","toast","axios","NavLink","Navigate","useNavigate","jsx","_jsx","jsxs","_jsxs","OngoingEvents","navigate","_useState","title","description","place","date","organiser","_useState2","_slicedToArray","events","setEvents","getAllEvents","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","sent","success","error","message","t0","stop","apply","arguments","children","className","map","ev","cd","Date","getTime","cd1","style","width","id","onClick","concat","_id"],"sources":["/home/akhil/Desktop/ecoverse/client/src/pages/OngoingEvents.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/Layout/Layout\";\nimport toast from \"react-hot-toast\";\nimport axios from \"axios\";\nimport { NavLink, Navigate } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst OngoingEvents = () => {\n  const navigate = useNavigate();\n  const [events, setEvents] = useState([\n    {\n      title: \"\",\n      description: \"\",\n      place: \"\",\n      date: \"\",\n      organiser: null,\n    },\n  ]);\n\n  useEffect(() => {\n    getAllEvents();\n  }, []);\n\n  const getAllEvents = async () => {\n    try {\n      const { data } = await axios.get(\n        \"http://localhost:8080/api/v1/event/get-events\"\n      );\n      if (data?.success) {\n        toast.success(\"Events were fetched\");\n        setEvents(data?.events);\n      } else {\n        toast.error(data?.message);\n      }\n    } catch (error) {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  return (\n    <Layout>\n      <h1 className=\"oe\">OngoingEvents</h1>\n      <div className=\"container\">\n      <div className=\"row justify-content-start\" >\n        {events.map((ev) => {\n            let cd = new Date().getTime();\n            let cd1 = new Date(ev.date);\n            if(cd <= cd1.getTime()){\n        return (\n          <div className=\"col-md-3 my-3\" key={ev._id}>\n            <div className=\"card\" style={{ width: \"18rem\" }}>\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{ev.title}</h5>\n                <p className=\"card-text\">{ev.description}</p>\n                <button\n                  className=\"btn btn-primary ms-2\" id=\"submit\"\n                  onClick={() =>\n                    navigate(`/event-details/${ev.title}/${ev._id}`)\n                  }\n                >\n                  SEE DETAILS\n                </button>\n              </div>\n            </div>\n          </div>\n        )}})}\n      </div>\n</div>\n    </Layout>\n  );\n};\n\nexport default OngoingEvents;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}