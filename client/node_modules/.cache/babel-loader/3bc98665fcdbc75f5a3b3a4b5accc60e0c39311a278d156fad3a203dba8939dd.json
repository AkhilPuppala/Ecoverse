{"ast":null,"code":"import _regeneratorRuntime from\"/home/akhil/Desktop/ecoverse/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/akhil/Desktop/ecoverse/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/akhil/Desktop/ecoverse/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Layout from\"../components/Layout/Layout\";import{useAuth}from\"../Context/auth\";import axios from\"axios\";import toast from\"react-hot-toast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var YourParticipations=function YourParticipations(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var _useAuth=useAuth(),_useAuth2=_slicedToArray(_useAuth,2),auth=_useAuth2[0],setAuth=_useAuth2[1];var getPEvents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8080/api/v1/auth/your-participations\",{headers:{Authorization:auth===null||auth===void 0?void 0:auth.token}});case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;if(data!==null&&data!==void 0&&data.success){setEvents(data===null||data===void 0?void 0:data.events);}_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getPEvents(){return _ref.apply(this,arguments);};}();useEffect(function(){getPEvents();},[]);var removeHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(title){var _yield$axios$delete,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"http://localhost:8080/api/v1/event/remove-event/\".concat(title),{headers:{Authorization:auth===null||auth===void 0?void 0:auth.token}});case 3:_yield$axios$delete=_context2.sent;data=_yield$axios$delete.data;if(data.success){toast.success(\"Deleted successfully\");getPEvents();}_context2.next=10;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function removeHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"your\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"yourpart\",children:\"Your participations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:events===null||events===void 0?void 0:events.map(function(ev){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{width:\"18rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:ev.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:ev.description}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:ev.place}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date:\",new Date(ev===null||ev===void 0?void 0:ev.date).getFullYear(),\"-\",new Date(ev===null||ev===void 0?void 0:ev.date).getMonth()+1,\"-\",new Date(ev===null||ev===void 0?void 0:ev.date).getDate()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Time:\",ev.time]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return removeHandler(ev.title);},children:\"Remove\"})]})})})});})})})]})})});};export default YourParticipations;","map":{"version":3,"names":["React","useEffect","useState","Layout","useAuth","axios","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","YourParticipations","_useState","_useState2","_slicedToArray","events","setEvents","_useAuth","_useAuth2","auth","setAuth","getPEvents","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","headers","Authorization","token","sent","success","t0","stop","apply","arguments","removeHandler","_ref2","_callee2","title","_yield$axios$delete","_callee2$","_context2","delete","concat","_x","children","className","id","map","ev","style","width","description","place","Date","date","getFullYear","getMonth","getDate","time","onClick"],"sources":["/home/akhil/Desktop/ecoverse/client/src/pages/YourParticipations.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/Layout/Layout\";\nimport { useAuth } from \"../Context/auth\";\n\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\n\nconst YourParticipations = () => {\n  const [events, setEvents] = useState([]);\n  const [auth, setAuth] = useAuth();\n  const getPEvents = async () => {\n    try {\n      const { data } = await axios.get(\n        \"http://localhost:8080/api/v1/auth/your-participations\",\n        {\n          headers: {\n            Authorization: auth?.token,\n          },\n        }\n      );\n      if (data?.success) {\n        setEvents(data?.events);\n      }\n    } catch (error) {\n    }\n  };\n\n  useEffect(() => {\n    getPEvents();\n  }, []);\n\n  const removeHandler = async (title) => {\n    try{\n      const {data} = await axios.delete(`http://localhost:8080/api/v1/event/remove-event/${title}`,        {\n        headers: {\n          Authorization: auth?.token,\n        },\n      })\n      if(data.success){\n        toast.success(\"Deleted successfully\");\n        getPEvents();\n      }\n    }catch(error){\n    }\n  }\n\n  return (\n    <>\n      <Layout>\n        <div className=\"your\">\n        <h1 id=\"yourpart\">Your participations</h1>\n        <div className=\"container\">\n        <div className=\"row\">\n        {events?.map((ev) => {\n          return (\n            <>\n              <div className=\"col-md-3\">\n                <div className=\"card\" style={{ width: \"18rem\"}}>\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title\">{ev.title}</h5>\n                    <p className=\"card-text\">{ev.description}</p>\n                    <p className=\"card-text\">{ev.place}</p>\n                    {<p>Date:{new Date(ev?.date).getFullYear()}-{new Date(ev?.date).getMonth()+1}-{new Date(ev?.date).getDate()}</p>}\n                    <p className=\"card-text\">Time:{ev.time}</p>\n                    <button className=\"btn btn-primary\" onClick={() => removeHandler(ev.title)}>Remove</button>\n                  </div>\n\n                </div>\n              </div>\n            </>\n          );\n        })}\n        </div>\n        </div>\n        </div>\n      </Layout>\n    </>\n  );\n};\n\nexport default YourParticipations;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}